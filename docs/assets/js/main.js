"use strict";const inputSearch=document.querySelector(".js-inputSearch"),searchSubmit=document.querySelector(".js-searchSubmit");let showCards=[],favorites=[];const getDataFromServer=e=>{e.preventDefault();const a=`http://api.tvmaze.com/search/shows?q=${inputSearch.value}`;return fetch(a).then(e=>e.json()).then(e=>{e=formatServerData(e),saveDataInShowCards(e),paintShowCards(),listenShowCards()})};searchSubmit.addEventListener("click",getDataFromServer);const formatServerData=e=>{let a=[];for(let t=0;t<e.length;t++)a.push({name:e[t].show.name,image:e[t].show.image.medium});return a},saveDataInShowCards=e=>{showCards=e},paintShowCards=()=>{let e=document.querySelector(".js-resultList"),a="";for(let e=0;e<showCards.length;e++){a+=`<li class="result__item js-showCard" data-index="${e}"><p class="result__item--name">${showCards[e].name}</p><img src="${showCards[e].image}" class="result__item--image js-showCardsImage"></li>`}e.innerHTML=a};let showCardsIndex;const addShowCardsToFavorites=e=>{e.preventDefault(),showCardsIndex=parseInt(e.currentTarget.dataset.index),favorites.push(showCards[showCardsIndex]),paintFavoritesShowCards(),setFavoritesInLocalStorage()},listenShowCards=()=>{let e=document.querySelectorAll(".js-showCard");for(const a of e)a.addEventListener("click",addShowCardsToFavorites)},paintFavoritesShowCards=()=>{let e=document.querySelector(".js-favoritesList"),a="";for(let e=0;e<favorites.length;e++){a+=`<li class="favorites__item js-favoriteShowName" data-index="${e}"><p class="favorites__name">${favorites[e].name}</p><img src="${favorites[e].image}" class="favorites__image js-favoriteShowImage"></li>`}e.innerHTML=a},setFavoritesInLocalStorage=()=>{const e=favorites[showCardsIndex].name;localStorage.setItem("show",JSON.stringify(e))},getFavoritesFromLocalStorage=()=>{JSON.parse(localStorage.getItem("show"))};JSON.parse(localStorage.getItem("show"));